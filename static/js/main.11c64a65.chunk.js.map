{"version":3,"sources":["components/Loader.tsx","components/WeekDays.tsx","components/Program.tsx","components/ProgramList.tsx","services/program-service.ts","App.tsx","index.tsx"],"names":["Container","styled","div","Typography","MuiTypography","Loader","CircularProgress","Chip","MuiChip","WeekDays","days","color","Dom","label","Seg","Ter","Qua","Qui","Sex","Sab","Accordion","MuiAccordion","AccordionSummary","MuiAccordionSummary","Program","data","index","isOnAir","now","parseInt","hours","Date","getHours","minutes","getMinutes","toString","nowString","start","human_start_time","split","substr","join","end","human_end_time","className","expandIcon","aria-controls","id","Grid","container","item","xs","sm","lg","title","AccordionDetails","description","custom_info","Genero","Descricao","Classificacao","Idade","isNaN","Dias","Box","MuiBox","ProgramList","list","getTime","date","mins","useState","time","setTime","updateTime","useEffect","setInterval","display","justifyContent","variant","gutterBottom","map","program","p","media_id","ProgramService","today","year","getFullYear","month","getMonth","day","getDate","this","axios","get","res","programme","entries","MuiContainer","App","loading","setLoading","programs","setPrograms","error","setError","loadPrograms","useCallback","a","load","maxWidth","textAlign","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.11c64a65.chunk.js","sourcesContent":["import { CircularProgress, Typography as MuiTypography } from '@material-ui/core';\nimport React from 'react';\nimport styled from 'styled-components'\n\nconst Container = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`\n\nconst Typography = styled(MuiTypography)`\n  margin-left: 16px !important;\n`\n\nconst Loader: React.FC = () => {\n  return (\n    <Container>\n      <CircularProgress />\n      <Typography>Carregando...</Typography>\n    </Container>\n  )\n}\n\nexport default Loader","import { Chip as MuiChip } from '@material-ui/core';\nimport React, { ReactNode } from 'react';\nimport { DiasData } from './Program';\nimport styled from 'styled-components'\n\nconst Chip = styled(MuiChip)`\n  margin-right: 8px;\n`\n\ninterface WeekDaysProps {\n  days: DiasData\n}\n\nconst WeekDays: React.FC<WeekDaysProps> = ({days}) => {\n  return (\n    <>\n      <Chip color={days.Dom ? 'primary' : 'default'} label=\"Dom\" />\n      <Chip color={days.Seg ? 'primary' : 'default'} label=\"Seg\" />\n      <Chip color={days.Ter ? 'primary' : 'default'} label=\"Ter\" />\n      <Chip color={days.Qua ? 'primary' : 'default'} label=\"Qua\" />\n      <Chip color={days.Qui ? 'primary' : 'default'} label=\"Qui\" />\n      <Chip color={days.Sex ? 'primary' : 'default'} label=\"Sex\" />\n      <Chip color={days.Sab ? 'primary' : 'default'} label=\"Sab\" />\n    </>\n  )\n}\n\nexport default WeekDays","import React, { ReactNode } from 'react';\nimport MuiAccordion from '@material-ui/core/Accordion';\nimport MuiAccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { Chip as MuiChip, Grid } from '@material-ui/core';\nimport styled from 'styled-components'\nimport WeekDays from './WeekDays';\n\nconst Accordion = styled(MuiAccordion)`\n  &.bg-dark {\n    background-color: #f5f5f5;\n  }\n`\n\nconst AccordionSummary = styled(MuiAccordionSummary)`\n  padding-left: 8px !important;\n`\n\nconst Chip = styled(MuiChip)`\n  .MuiChip-label {\n    margin: 8px 0;\n  }\n`\n\ninterface ProgramProps {\n  data: ProgramData\n  index: number\n}\n\nexport interface DiasData {\n  Dom: boolean\n  Seg: boolean\n  Ter: boolean\n  Qua: boolean\n  Qui: boolean\n  Sex: boolean\n  Sab: boolean\n}\n\nexport interface ProgramData {\n  media_id: number\n  title: string\n  description: string\n  start_time: number\n  end_time: number\n  human_start_time: string\n  human_end_time: string\n  duration_in_minutes: number\n  custom_info: {\n    Classificacao: {Idade: string},\n    Dias: DiasData,\n    Genero: {\n      Descricao: string\n    }\n  }\n}\n\nconst Program: React.FC<ProgramProps> = ({data, index}) => {\n\n  const getReadableTime = (): string => {\n    return data.human_start_time.substr(0, 5)\n  }\n\n  const id = (): number => {\n    return data.media_id\n  }\n\n  const title = (): ReactNode => {\n    return (\n      <div>\n        <Typography>{data.title}</Typography>\n        <Typography color=\"textSecondary\">{getReadableTime()}</Typography>\n      </div>\n    )\n  }\n\n  const nowString = (): string => {\n    const hours = new Date().getHours()\n    const minutes = new Date().getMinutes()\n    return hours.toString() + (minutes > 9 ? minutes : '0' + minutes).toString()\n  }\n\n  const isOnAir = (): boolean => {\n    const now = parseInt(nowString())\n    const start = parseInt(data.human_start_time.split('+')[0].substr(0, 5).split(':').join('')) +\n    parseInt(data.human_start_time.split('+')[1].split(':').join(''))\n    const end = parseInt(data.human_end_time.split('+')[0].substr(0, 5).split(':').join('')) +\n    parseInt(data.human_end_time.split('+')[1].split(':').join(''))\n    return start < now && end > now\n  }\n\n  const onAirBadge = (): ReactNode => {\n    return  (\n      <Grid item xs={3} sm={2} lg={1}>\n        {isOnAir() ? <Chip color=\"secondary\" label=\"No Ar\"/> : null}\n      </Grid>\n    )\n  }\n\n  return (\n    <Accordion className={index % 2 ? '' : 'bg-dark'}>\n      <AccordionSummary\n        expandIcon={<ExpandMoreIcon />}\n        aria-controls=\"panel1a-content\"\n        id=\"panel1a-header\"\n      >\n        <Grid container>\n          { onAirBadge() }\n          <Grid item xs={9} sm={10} lg={11}>\n            {title()}\n          </Grid>\n        </Grid>\n      </AccordionSummary>\n      <AccordionDetails>\n        <Grid container>\n          <Grid item xs={3} sm={2} lg={1}></Grid>\n          <Grid item xs={9} sm={10} lg={11}>\n            <Typography>\n              { data.description || null}\n            </Typography>\n            <p> </p>\n            { \n              data.custom_info.Genero?.Descricao? \n              <Typography color=\"textSecondary\">\n                Gênero: { data.custom_info.Genero.Descricao }\n              </Typography>\n              : null\n            }\n            {\n              data.custom_info.Classificacao?.Idade?\n              <Typography color=\"textSecondary\">\n                Classificação: { \n                  isNaN(parseInt(data.custom_info.Classificacao.Idade)) ?\n                  data.custom_info.Classificacao.Idade\n                  : data.custom_info.Classificacao.Idade + ' anos'\n                }\n              </Typography>\n              : null\n            }\n            <p> </p>\n            <WeekDays days={data.custom_info.Dias} />\n          </Grid>\n        </Grid>\n      </AccordionDetails>\n    </Accordion>\n  )\n}\n\nexport default Program","import { Box as MuiBox, Typography as MuiTypography } from '@material-ui/core';\nimport React, { useEffect, useState } from 'react';\nimport Program, { ProgramData } from './Program';\nimport styled from 'styled-components'\n\nconst Typography = styled(MuiTypography)`\n  @media only screen and (max-width: 425px) {\n    font-size: 16pt !important;\n  }\n`\n\nconst Box = styled(MuiBox)`\n  margin-top: 16px;\n  margin-bottom: 24px;\n`\n\ninterface ProgramListProps {\n  list: ProgramData[]\n}\n\nconst ProgramList: React.FC<ProgramListProps> = ({list}) => {\n  const getTime = (): string => {\n    const date = new Date()\n    const hours = date.getHours()\n    const mins = date.getMinutes()\n    return `${hours < 10 ? '0' + hours : hours}:${mins < 10 ? '0' + mins : mins}`\n  }\n\n  const [time, setTime] = useState(getTime())\n\n  const updateTime = () => {\n    setTime(getTime())\n  }\n\n  useEffect(() => {\n    setInterval(updateTime, 1000)\n  }, [])\n\n  return (\n    <>\n      <Box display=\"flex\" justifyContent=\"space-between\">\n        <Typography variant=\"h4\" gutterBottom>\n          Programação RPC\n        </Typography>\n        <Typography variant=\"h4\">\n          {time}\n        </Typography>\n      </Box>\n      {list.map((program, p) => {\n        return <Program data={program} index={p} key={program.media_id} />\n      })}\n    </>\n  )\n}\n\nexport default ProgramList","import axios from 'axios'\nimport { ProgramData } from '../components/Program'\n\nconst url = 'https://desafio-rpc.herokuapp.com?date='\n\nexport class ProgramService {\n\n  static getDate() {\n    const today = new Date()\n    const year = today.getFullYear()\n    const month = today.getMonth() + 1\n    const day = today.getDate()\n    return `${year}-${month < 9 ? '0' + month : month}-${day < 9 ? '0' + day : day}`\n  }\n\n  static async load(): Promise<ProgramData[]> {\n    const date = this.getDate()\n    const res = await axios.get(url + date)\n    return res.data.programme.entries\n  }\n}","import { Box, Container as MuiContainer, Typography } from '@material-ui/core';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport Loader from './components/Loader';\nimport { ProgramData } from './components/Program';\nimport ProgramList from './components/ProgramList';\nimport { ProgramService } from './services/program-service';\nimport styled from 'styled-components'\n\nconst Container = styled(MuiContainer)`\n  @media only screen and (max-width: 425px) {\n    padding: 0 !important;\n  }\n`\n\nconst App: React.FC = () => {\n  const [loading, setLoading] = useState(true)\n  const [programs, setPrograms] = useState<ProgramData[]>([])\n  const [error, setError] = useState(false)\n\n  const loadPrograms = useCallback(async () => {\n    try{\n      const programs = await ProgramService.load()\n      setPrograms(programs)\n      setLoading(false)\n    }\n    catch(e) {\n      setLoading(false)\n      setError(true)\n    }\n  }, [])\n\n  useEffect(() => {\n    loadPrograms()\n  }, [])\n\n  return (\n    <div className=\"App\">\n      <Container maxWidth=\"md\">\n        {\n          loading ?\n          <Loader />\n          :\n          error ?\n          <Box textAlign=\"center\">\n            <Typography>Houve um erro ao carregar a grade. Tente novamente.</Typography>\n          </Box>\n          :\n          <ProgramList list={programs} />\n        }\n      </Container>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}